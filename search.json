[{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"hugging-face","dir":"Articles","previous_headings":"Parquet File Overview and Setup","what":"Hugging Face","title":"Working With Data in Parquet Format","text":"Individual pipeline output files combined parquet files hosted metagenomics_mac repo Hugging Face. Smaller versions files, comprising 10 samples per file, available Hugging Face repo metagenomics_mac_examples. publicly accessible, able easily read using DuckDB.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"parquet-creation","dir":"Articles","previous_headings":"Parquet File Overview and Setup","what":"Parquet Creation","title":"Working With Data in Parquet Format","text":"create individual parquet files, one needs credentials access gs://metagenomics-mac Google Bucket. Instructions obtaining can found Google Cloud Storage vignette. credentials substituted scripts found repo parquet_generation. scripts perform number transformations increase searchability storing combined data data type parquet files.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"duckdb-in-r","dir":"Articles","previous_headings":"Parquet File Overview and Setup","what":"DuckDB in R","title":"Working With Data in Parquet Format","text":"DuckDB easy use R duckdb R package. DBI dplyr/dbplyr packages combine provide streamlined way work remote data selectively querying bringing R session. Relevant tools: DuckDB R Client DBI dplyr/dbplyr","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"standard-workflow","dir":"Articles","previous_headings":"","what":"Standard Workflow","title":"Working With Data in Parquet Format","text":"standard workflow, use main wrapper function returnSamples. function takes tables sample feature information well remote repo name vector paths locally stored parquet files retrieves relevant data TreeSummarizedExperiment. brief overview argument provided returnSamples, please call ?returnSamples additional info. data_type: output file type interest sample_data: table sample metadata, used specify samples retrieve data feature_data: table feature data, used specify filter raw data repo: identifier remote repo raw parquet files stored local_files: paths locally stored parquet files, alternative retrieval remote repo include_empty_samples: sometimes none features specified feature_data found one samples specified sample_data. samples still included result NA values feature (TRUE) omitted (FALSE)? Omitting samples may increase response speed accessing remote repos. dry_run: dry run returns tbl_duckdb_connection object contains SQL code necessary return requested data. SQL can viewed passing object dplyr::show_query(). useful evaluating query efficiency prior actually executing.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"file-selection","dir":"Articles","previous_headings":"Standard Workflow","what":"File Selection","title":"Working With Data in Parquet Format","text":"remote local parquet files can queried, though time. get_repo_info() gives names URLs available repos, get_hf_parquet_urls() gives information files contained repos. files can also downloaded separately provided local_files argument returnSamples(). may desirable internet connection unstable limited, particular query runs repo’s rate limits. point, also want make note data_type values interested . data_type associated parquet file listed output get_hf_parquet_urls(). example, looking ‘relative_abundance’ data type, corresponds files “relative_abundance_uuid.parquet” “relative_abundance_clade_name_species.parquet”. difference two files column sorted: “relative_abundance_uuid.parquet” sorted ‘uuid’ column, “relative_abundance_clade_name_species.parquet” sorted ‘clade_name_species’ column. Internal functions choose one use, simply provide “relative_abundance” chosen data type. downloading files locally avoid rate limits, download files associated chosen data type.","code":"get_repo_info() get_hf_parquet_urls(repo_name = \"waldronlab/metagenomics_mac\")"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"sample-table","dir":"Articles","previous_headings":"Standard Workflow","what":"Sample Table","title":"Working With Data in Parquet Format","text":"can examine available samples optionally select subset query. done browsing sampleMetadata object. example set data might selected meta-analysis sampling parameters. Alternatively, step can left altogether. sample table provided calling returnSamples(), data samples simply returned.","code":"sample_table <- sampleMetadata |>     filter(study_name == \"ZhangM_2023\") |>     select(where(~ !any(is.na(.x))))"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"feature-table","dir":"Articles","previous_headings":"Standard Workflow","what":"Feature Table","title":"Working With Data in Parquet Format","text":"feature table, first find reference file goes data type interested . , call get_ref_info(). Search ‘general_data_type’ column data type identify reference file interest. granular view exactly file, can call parquet_colinfo() data type see columns included. , can see “clade_name_ref” associated “relative_abundance”. can see exactly columns “clade_name_ref”. found correct reference file, can filter contain features interested . , interested values bacteria genus “Faecalibacterium”. load reference file load_ref(), use basic grepl() filtering method. extra consideration, MetaPhlAn relative abundance output includes aggregate values taxonomic level. can see first row returned value NA “clade_name_species” column, rows NA “clade_name_terminal” column. may want remove rows based analysis. , simply re-filter file:","code":"get_ref_info() parquet_colinfo(\"relative_abundance\") clade_name_ref <- load_ref(\"clade_name_ref\") feature_table <- clade_name_ref %>%     filter(grepl(\"Faecalibacterium\", clade_name_genus)) feature_table <- clade_name_ref %>%     filter(grepl(\"Faecalibacterium\", clade_name_genus)) %>%     filter(!is.na(clade_name_species)) %>%     filter(!is.na(clade_name_terminal))"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"returnsamples","dir":"Articles","previous_headings":"Standard Workflow","what":"returnSamples()","title":"Working With Data in Parquet Format","text":"now ready retrieve data. simply pass arguments returnSamples(). may take minute, depending amount data requested available resources. finding function failing due rate limiting (HTTP 429 error), hanging, simply taking longer like, can download files associated data type interested supply paths “local_files” argument lieu specifying “repo” argument. look something like : Finally, can check exactly query called raw parquet data passing “TRUE” “dry_run” argument. returns tbl_duckdb_connection object can passed dplyr::show_query(). demonstrate:","code":"experiment <- returnSamples(data_type = \"relative_abundance\",                             sample_data = sample_table,                             feature_data = feature_table,                             repo = \"waldronlab/metagenomics_mac\",                             local_files = NULL,                             include_empty_samples = TRUE,                             dry_run = FALSE) experiment #> class: TreeSummarizedExperiment  #> dim: 9 24  #> metadata(0): #> assays(1): relative_abundance #> rownames(9): #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_SGB15346|t__SGB15346 #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15316 #>   ... #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15339 #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_sp_CLA_AA_H233|t__SGB15315 #> rowData names(19): clade_name clade_name_kingdom ... #>   NCBI_tax_id_terminal additional_species #> colnames(24): eda61949-02dc-40ae-8dbe-bea2add85a52 #>   e47a59bb-443a-405f-9c5d-02659d80e9e5 ... #>   09a9303d-d87d-4556-9672-04cbbcaf3d37 #>   677be4e3-722b-4e43-bd5a-36d8fbed6f86 #> colData names(524): uuid db_version ... #>   uncurated_Day_of_stool_collection_digestion_issue #>   uncurated_Day_of_stool_collection_constipation #> reducedDimNames(0): #> mainExpName: NULL #> altExpNames(0): #> rowLinks: NULL #> rowTree: NULL #> colLinks: NULL #> colTree: NULL local_files <- c(\"/path/to/relative_abundance_clade_name_species.parquet\",                  \"/path/to/relative_abundance_uuid.parquet\")  experiment <- returnSamples(data_type = \"relative_abundance\",                             sample_data = sample_table,                             feature_data = feature_table,                             repo = NULL,                             local_files = local_files,                             include_empty_samples = TRUE,                             dry_run = FALSE) query_only <- returnSamples(data_type = \"relative_abundance\",                             sample_data = sample_table,                             feature_data = feature_table,                             repo = \"waldronlab/metagenomics_mac\",                             local_files = NULL,                             include_empty_samples = FALSE,                             dry_run = TRUE) dplyr::show_query(query_only) #> <SQL> #> SELECT q01.* #> FROM ( #>   SELECT relative_abundance_clade_name_species.* #>   FROM relative_abundance_clade_name_species #>   WHERE (clade_name_species = 's__Faecalibacterium_SGB15346') #>  #>   UNION ALL #>  #>   SELECT relative_abundance_clade_name_species.* #>   FROM relative_abundance_clade_name_species #>   WHERE (clade_name_species = 's__Faecalibacterium_prausnitzii') #>  #>   UNION ALL #>  #>   SELECT relative_abundance_clade_name_species.* #>   FROM relative_abundance_clade_name_species #>   WHERE (clade_name_species = 's__Faecalibacterium_sp_An122') #>  #>   UNION ALL #>  #>   SELECT relative_abundance_clade_name_species.* #>   FROM relative_abundance_clade_name_species #>   WHERE (clade_name_species = 's__Faecalibacterium_sp_CLA_AA_H233') #>  #>   UNION ALL #>  #>   SELECT relative_abundance_clade_name_species.* #>   FROM relative_abundance_clade_name_species #>   WHERE (clade_name_species = 's__Faecalibacterium_sp_HTFF') #> ) q01 #> WHERE #>   (clade_name_kingdom = 'k__Bacteria') AND #>   (clade_name_phylum = 'p__Firmicutes') AND #>   (clade_name_class = 'c__Clostridia') AND #>   (clade_name_order = 'o__Eubacteriales') AND #>   (clade_name_family = 'f__Oscillospiraceae') AND #>   (clade_name_genus = 'g__Faecalibacterium') AND #>   (NCBI_tax_id_kingdom = '2') AND #>   (NCBI_tax_id_phylum = '1239') AND #>   (NCBI_tax_id_class = '186801') AND #>   (NCBI_tax_id_order = '186802') AND #>   (NCBI_tax_id_family = '216572') AND #>   (NCBI_tax_id_genus = '216851') AND #>   (NCBI_tax_id_terminal = '') AND #>   (NCBI_tax_id IN ('2|1239|186801|186802|216572|216851||', '2|1239|186801|186802|216572|216851|853|', '2|1239|186801|186802|216572|216851|1965551|', '2|1239|186801|186802|216572|216851|2881266|', '2|1239|186801|186802|216572|216851|2929491|')) AND #>   (NCBI_tax_id_species IN ('', '853', '1965551', '2881266', '2929491')) AND #>   (clade_name IN ('k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_SGB15346|t__SGB15346', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15316', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15317', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15318', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15322', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15323', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15332', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15339', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15342', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_sp_An122|t__SGB15312', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_sp_CLA_AA_H233|t__SGB15315', 'k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_sp_HTFF|t__SGB15340')) AND #>   (clade_name_terminal IN ('t__SGB15346', 't__SGB15316', 't__SGB15317', 't__SGB15318', 't__SGB15322', 't__SGB15323', 't__SGB15332', 't__SGB15339', 't__SGB15342', 't__SGB15312', 't__SGB15315', 't__SGB15340')) AND #>   (uuid IN ('0807eb2a-a15e-4647-8e19-2600d8fda378', 'e0fbb54f-0249-4917-a4d7-bd68acb89c62', '25172837-2849-4db3-be91-d54d6a815d00', '39ddb5e7-97f6-4d3c-812b-9653b03f99b3', '7b152a7d-e244-4e2b-b924-7195c7ecfb10', 'dd30f93b-7999-47a4-93fb-21971b899939', '1406666f-04a8-43c9-983b-4ed62fd6da4a', 'fe3de3ca-3a14-4bd8-ae1c-0dad69edc9cd', '8707e374-5ddb-4220-8cbf-364b8b0e7be1', '22848a9c-66a6-4993-9058-cb6464edb42f', '08e2b754-78e2-4cb4-8ff2-95fd7b0ff44a', '9baef0b2-93d2-4a40-8082-d357c7f8156a', '09a9303d-d87d-4556-9672-04cbbcaf3d37', 'ac9f3532-90d8-412c-9c80-491037f0bcc2', 'eda61949-02dc-40ae-8dbe-bea2add85a52', '1f007260-be6c-4a21-800a-ad9c36129a0d', 'e47a59bb-443a-405f-9c5d-02659d80e9e5', 'b3eaf3ab-43ef-4830-ab6d-12bafed3c61e', '28f7352f-fe23-4003-93e1-41f4fedc6232', 'b07e2362-5851-4181-ba9a-15d9109ee4dd', '677be4e3-722b-4e43-bd5a-36d8fbed6f86', '0c817272-f873-475f-a401-dfe46a679a9f', '7a3945d9-21bb-434a-9a4e-bfcdeb6194de', '56aa2ad5-007d-407c-a644-48aac1e9a8f0'))"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"piecewise-workflow","dir":"Articles","previous_headings":"","what":"Piecewise Workflow","title":"Working With Data in Parquet Format","text":"piecewise workflow, use functions accessParquetData loadParquetData separately little control data. First, accessParquetData sets DuckDB connection parquet files either stored locally hosted remote repo (case, Hugging Face). loadParquetData takes argument data type well filters loads requested data R Tree Summarized Experiment. can even use dplyr functions customize SQL query.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"file-selection-1","dir":"Articles","previous_headings":"Piecewise Workflow","what":"File Selection","title":"Working With Data in Parquet Format","text":"can use resources get_repo_info() get_hf_parquet_urls() determine files interest data_type value. , can download files alternatively supply local files. run accessParquetData, creates DuckDB connection sets DuckDB “VIEW” objects available file, whether remotely hosted locally stored. returns DuckDB connection object. using remote repo, data_types argument can left blank access available files, smaller number can provided. DBI functions can used see views now available. Supplying local files look much expected, “data_types” argument need supplied:","code":"con <- accessParquetData(dbdir = \":memory:\",                          repo = \"waldronlab/metagenomics_mac\",                          local_files = NULL,                          data_types = \"relative_abundance\") DBI::dbListTables(con) #> [1] \"relative_abundance_clade_name_species\" #> [2] \"relative_abundance_uuid\" local_files <- c(\"/path/to/relative_abundance_clade_name_species.parquet\",                  \"/path/to/relative_abundance_uuid.parquet\")  con <- accessParquetData(dbdir = \":memory:\",                          repo = NULL,                          local_files = local_files,                          data_types = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"selecting-samples","dir":"Articles","previous_headings":"Piecewise Workflow","what":"Selecting Samples","title":"Working With Data in Parquet Format","text":"sample selection process standard workflow, exception passing UUID column loading function. create table earlier, pull just UUIDS. optional step, may want get data across samples meta-analyses.","code":"sample_table <- sampleMetadata |>     filter(study_name == \"ZhangM_2023\") |>     select(where(~ !any(is.na(.x)))) selected_uuids <- sample_table$uuid selected_uuids #>  [1] \"0807eb2a-a15e-4647-8e19-2600d8fda378\" #>  [2] \"e0fbb54f-0249-4917-a4d7-bd68acb89c62\" #>  [3] \"25172837-2849-4db3-be91-d54d6a815d00\" #>  [4] \"39ddb5e7-97f6-4d3c-812b-9653b03f99b3\" #>  [5] \"7b152a7d-e244-4e2b-b924-7195c7ecfb10\" #>  [6] \"dd30f93b-7999-47a4-93fb-21971b899939\" #>  [7] \"1406666f-04a8-43c9-983b-4ed62fd6da4a\" #>  [8] \"fe3de3ca-3a14-4bd8-ae1c-0dad69edc9cd\" #>  [9] \"8707e374-5ddb-4220-8cbf-364b8b0e7be1\" #> [10] \"22848a9c-66a6-4993-9058-cb6464edb42f\" #> [11] \"08e2b754-78e2-4cb4-8ff2-95fd7b0ff44a\" #> [12] \"9baef0b2-93d2-4a40-8082-d357c7f8156a\" #> [13] \"09a9303d-d87d-4556-9672-04cbbcaf3d37\" #> [14] \"ac9f3532-90d8-412c-9c80-491037f0bcc2\" #> [15] \"eda61949-02dc-40ae-8dbe-bea2add85a52\" #> [16] \"1f007260-be6c-4a21-800a-ad9c36129a0d\" #> [17] \"e47a59bb-443a-405f-9c5d-02659d80e9e5\" #> [18] \"b3eaf3ab-43ef-4830-ab6d-12bafed3c61e\" #> [19] \"28f7352f-fe23-4003-93e1-41f4fedc6232\" #> [20] \"b07e2362-5851-4181-ba9a-15d9109ee4dd\" #> [21] \"677be4e3-722b-4e43-bd5a-36d8fbed6f86\" #> [22] \"0c817272-f873-475f-a401-dfe46a679a9f\" #> [23] \"7a3945d9-21bb-434a-9a4e-bfcdeb6194de\" #> [24] \"56aa2ad5-007d-407c-a644-48aac1e9a8f0\""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"selecting-features","dir":"Articles","previous_headings":"Piecewise Workflow","what":"Selecting Features","title":"Working With Data in Parquet Format","text":"feature table treated similarly, longer providing whole table. Instead, construct filtering arguments named list. element name column filter , element values exact matches. previous table: set filters like . two columns minimum required produce result prior example. also supply UUIDs.","code":"feature_table <- clade_name_ref %>%     filter(grepl(\"Faecalibacterium\", clade_name_genus)) %>%     filter(!is.na(clade_name_species)) %>%     filter(!is.na(clade_name_terminal)) filter_values <- list(clade_name_species = unique(feature_table$clade_name_species),                       clade_name_terminal = unique(feature_table$clade_name_terminal)) filter_values #> $clade_name_species #> [1] \"s__Faecalibacterium_SGB15346\"       \"s__Faecalibacterium_prausnitzii\"    #> [3] \"s__Faecalibacterium_sp_An122\"       \"s__Faecalibacterium_sp_CLA_AA_H233\" #> [5] \"s__Faecalibacterium_sp_HTFF\"        #>  #> $clade_name_terminal #>  [1] \"t__SGB15346\" \"t__SGB15316\" \"t__SGB15317\" \"t__SGB15318\" \"t__SGB15322\" #>  [6] \"t__SGB15323\" \"t__SGB15332\" \"t__SGB15339\" \"t__SGB15342\" \"t__SGB15312\" #> [11] \"t__SGB15315\" \"t__SGB15340\" filter_values <- c(list(uuid = selected_uuids), filter_values) filter_values #> $uuid #>  [1] \"0807eb2a-a15e-4647-8e19-2600d8fda378\" #>  [2] \"e0fbb54f-0249-4917-a4d7-bd68acb89c62\" #>  [3] \"25172837-2849-4db3-be91-d54d6a815d00\" #>  [4] \"39ddb5e7-97f6-4d3c-812b-9653b03f99b3\" #>  [5] \"7b152a7d-e244-4e2b-b924-7195c7ecfb10\" #>  [6] \"dd30f93b-7999-47a4-93fb-21971b899939\" #>  [7] \"1406666f-04a8-43c9-983b-4ed62fd6da4a\" #>  [8] \"fe3de3ca-3a14-4bd8-ae1c-0dad69edc9cd\" #>  [9] \"8707e374-5ddb-4220-8cbf-364b8b0e7be1\" #> [10] \"22848a9c-66a6-4993-9058-cb6464edb42f\" #> [11] \"08e2b754-78e2-4cb4-8ff2-95fd7b0ff44a\" #> [12] \"9baef0b2-93d2-4a40-8082-d357c7f8156a\" #> [13] \"09a9303d-d87d-4556-9672-04cbbcaf3d37\" #> [14] \"ac9f3532-90d8-412c-9c80-491037f0bcc2\" #> [15] \"eda61949-02dc-40ae-8dbe-bea2add85a52\" #> [16] \"1f007260-be6c-4a21-800a-ad9c36129a0d\" #> [17] \"e47a59bb-443a-405f-9c5d-02659d80e9e5\" #> [18] \"b3eaf3ab-43ef-4830-ab6d-12bafed3c61e\" #> [19] \"28f7352f-fe23-4003-93e1-41f4fedc6232\" #> [20] \"b07e2362-5851-4181-ba9a-15d9109ee4dd\" #> [21] \"677be4e3-722b-4e43-bd5a-36d8fbed6f86\" #> [22] \"0c817272-f873-475f-a401-dfe46a679a9f\" #> [23] \"7a3945d9-21bb-434a-9a4e-bfcdeb6194de\" #> [24] \"56aa2ad5-007d-407c-a644-48aac1e9a8f0\" #>  #> $clade_name_species #> [1] \"s__Faecalibacterium_SGB15346\"       \"s__Faecalibacterium_prausnitzii\"    #> [3] \"s__Faecalibacterium_sp_An122\"       \"s__Faecalibacterium_sp_CLA_AA_H233\" #> [5] \"s__Faecalibacterium_sp_HTFF\"        #>  #> $clade_name_terminal #>  [1] \"t__SGB15346\" \"t__SGB15316\" \"t__SGB15317\" \"t__SGB15318\" \"t__SGB15322\" #>  [6] \"t__SGB15323\" \"t__SGB15332\" \"t__SGB15339\" \"t__SGB15342\" \"t__SGB15312\" #> [11] \"t__SGB15315\" \"t__SGB15340\""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"loading-into-r","dir":"Articles","previous_headings":"Piecewise Workflow","what":"Loading into R","title":"Working With Data in Parquet Format","text":"provide list filtering arguments loadParquetData along database connection object data type accessing receive Tree Summarized Experiment object. Loading data may take time depending file type queries. Performing dry run order examine SQL query look much :","code":"basic_experiment <- loadParquetData(con = con,                                     data_type = \"relative_abundance\",                                     filter_values = filter_values,                                     custom_view = NULL,                                     include_empty_samples = TRUE,                                     dry_run = FALSE) basic_experiment #> class: TreeSummarizedExperiment  #> dim: 9 24  #> metadata(0): #> assays(1): relative_abundance #> rownames(9): #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_SGB15346|t__SGB15346 #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15316 #>   ... #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15339 #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_sp_CLA_AA_H233|t__SGB15315 #> rowData names(19): clade_name clade_name_kingdom ... #>   NCBI_tax_id_terminal additional_species #> colnames(24): eda61949-02dc-40ae-8dbe-bea2add85a52 #>   e47a59bb-443a-405f-9c5d-02659d80e9e5 ... #>   09a9303d-d87d-4556-9672-04cbbcaf3d37 #>   677be4e3-722b-4e43-bd5a-36d8fbed6f86 #> colData names(524): uuid db_version ... #>   uncurated_Day_of_stool_collection_digestion_issue #>   uncurated_Day_of_stool_collection_constipation #> reducedDimNames(0): #> mainExpName: NULL #> altExpNames(0): #> rowLinks: NULL #> rowTree: NULL #> colLinks: NULL #> colTree: NULL query_only <- loadParquetData(con = con,                               data_type = \"relative_abundance\",                               filter_values = filter_values,                               custom_view = NULL,                               include_empty_samples = TRUE,                               dry_run = TRUE) dplyr::show_query(query_only) #> <SQL> #> SELECT q01.* #> FROM ( #>   SELECT relative_abundance_clade_name_species.* #>   FROM relative_abundance_clade_name_species #>   WHERE (clade_name_species = 's__Faecalibacterium_SGB15346') #>  #>   UNION ALL #>  #>   SELECT relative_abundance_clade_name_species.* #>   FROM relative_abundance_clade_name_species #>   WHERE (clade_name_species = 's__Faecalibacterium_prausnitzii') #>  #>   UNION ALL #>  #>   SELECT relative_abundance_clade_name_species.* #>   FROM relative_abundance_clade_name_species #>   WHERE (clade_name_species = 's__Faecalibacterium_sp_An122') #>  #>   UNION ALL #>  #>   SELECT relative_abundance_clade_name_species.* #>   FROM relative_abundance_clade_name_species #>   WHERE (clade_name_species = 's__Faecalibacterium_sp_CLA_AA_H233') #>  #>   UNION ALL #>  #>   SELECT relative_abundance_clade_name_species.* #>   FROM relative_abundance_clade_name_species #>   WHERE (clade_name_species = 's__Faecalibacterium_sp_HTFF') #> ) q01 #> WHERE #>   (clade_name_terminal IN ('t__SGB15346', 't__SGB15316', 't__SGB15317', 't__SGB15318', 't__SGB15322', 't__SGB15323', 't__SGB15332', 't__SGB15339', 't__SGB15342', 't__SGB15312', 't__SGB15315', 't__SGB15340')) AND #>   (uuid IN ('0807eb2a-a15e-4647-8e19-2600d8fda378', 'e0fbb54f-0249-4917-a4d7-bd68acb89c62', '25172837-2849-4db3-be91-d54d6a815d00', '39ddb5e7-97f6-4d3c-812b-9653b03f99b3', '7b152a7d-e244-4e2b-b924-7195c7ecfb10', 'dd30f93b-7999-47a4-93fb-21971b899939', '1406666f-04a8-43c9-983b-4ed62fd6da4a', 'fe3de3ca-3a14-4bd8-ae1c-0dad69edc9cd', '8707e374-5ddb-4220-8cbf-364b8b0e7be1', '22848a9c-66a6-4993-9058-cb6464edb42f', '08e2b754-78e2-4cb4-8ff2-95fd7b0ff44a', '9baef0b2-93d2-4a40-8082-d357c7f8156a', '09a9303d-d87d-4556-9672-04cbbcaf3d37', 'ac9f3532-90d8-412c-9c80-491037f0bcc2', 'eda61949-02dc-40ae-8dbe-bea2add85a52', '1f007260-be6c-4a21-800a-ad9c36129a0d', 'e47a59bb-443a-405f-9c5d-02659d80e9e5', 'b3eaf3ab-43ef-4830-ab6d-12bafed3c61e', '28f7352f-fe23-4003-93e1-41f4fedc6232', 'b07e2362-5851-4181-ba9a-15d9109ee4dd', '677be4e3-722b-4e43-bd5a-36d8fbed6f86', '0c817272-f873-475f-a401-dfe46a679a9f', '7a3945d9-21bb-434a-9a4e-bfcdeb6194de', '56aa2ad5-007d-407c-a644-48aac1e9a8f0'))"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"optional-view-customization","dir":"Articles","previous_headings":"Piecewise Workflow","what":"Optional View Customization","title":"Working With Data in Parquet Format","text":"Additionally, possible use dplyr preview data view interest perform advanced functions data prior using loadParquetData collect() function load R. use tbl() function access data view choice, pipe filter() call select rows value “additional_species” column. can save calls variable prior loading R, supply loadParquetData either instead alongside standard filtering arguments. can see preview data calling saved view: show query prior running: simply provide custom view loadParquetData().","code":"custom_filter <- tbl(con, \"relative_abundance_uuid\") %>%     filter(!is.na(additional_species)) custom_filter #> # Source:   SQL [?? x 26] #> # Database: DuckDB 1.4.2 [unknown@Linux 6.11.0-1018-azure:R 4.5.2/:memory:] #>    clade_name_kingdom clade_name_phylum clade_name_class clade_name_order     #>    <chr>              <chr>             <chr>            <chr>                #>  1 k__Bacteria        p__Firmicutes     c__Clostridia    o__Eubacteriales     #>  2 k__Bacteria        p__Bacteroidota   c__Bacteroidia   o__Bacteroidales     #>  3 k__Bacteria        p__Firmicutes     c__Bacilli       o__Lactobacillales   #>  4 k__Bacteria        p__Bacteroidota   c__Bacteroidia   o__Bacteroidales     #>  5 k__Bacteria        p__Bacteroidota   c__Bacteroidia   o__Bacteroidales     #>  6 k__Bacteria        p__Firmicutes     c__Clostridia    o__Eubacteriales     #>  7 k__Bacteria        p__Firmicutes     c__Clostridia    o__Eubacteriales     #>  8 k__Bacteria        p__Firmicutes     c__Clostridia    o__Eubacteriales     #>  9 k__Bacteria        p__Firmicutes     c__Clostridia    o__Eubacteriales     #> 10 k__Bacteria        p__Actinobacteria c__Actinomycetia o__Bifidobacteriales #> # ℹ more rows #> # ℹ 22 more variables: clade_name_family <chr>, clade_name_genus <chr>, #> #   clade_name_species <chr>, clade_name_terminal <chr>, #> #   NCBI_tax_id_kingdom <chr>, NCBI_tax_id_phylum <chr>, #> #   NCBI_tax_id_class <chr>, NCBI_tax_id_order <chr>, NCBI_tax_id_family <chr>, #> #   NCBI_tax_id_genus <chr>, NCBI_tax_id_species <chr>, #> #   NCBI_tax_id_terminal <chr>, clade_name <chr>, NCBI_tax_id <chr>, … dplyr::show_query(custom_filter) #> <SQL> #> SELECT relative_abundance_uuid.* #> FROM relative_abundance_uuid #> WHERE (NOT((additional_species IS NULL))) custom_experiment <- loadParquetData(con = con,                                      data_type = \"relative_abundance\",                                      filter_values = filter_values,                                      custom_view = custom_filter,                                      include_empty_samples = TRUE,                                      dry_run = FALSE) custom_experiment #> class: TreeSummarizedExperiment  #> dim: 7 24  #> metadata(0): #> assays(1): relative_abundance #> rownames(7): #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15316 #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15332 #>   ... #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_prausnitzii|t__SGB15323 #>   k__Bacteria|p__Firmicutes|c__Clostridia|o__Eubacteriales|f__Oscillospiraceae|g__Faecalibacterium|s__Faecalibacterium_sp_CLA_AA_H233|t__SGB15315 #> rowData names(19): clade_name clade_name_kingdom ... #>   NCBI_tax_id_terminal additional_species #> colnames(24): 0807eb2a-a15e-4647-8e19-2600d8fda378 #>   08e2b754-78e2-4cb4-8ff2-95fd7b0ff44a ... #>   e47a59bb-443a-405f-9c5d-02659d80e9e5 #>   eda61949-02dc-40ae-8dbe-bea2add85a52 #> colData names(524): uuid db_version ... #>   uncurated_Day_of_stool_collection_digestion_issue #>   uncurated_Day_of_stool_collection_constipation #> reducedDimNames(0): #> mainExpName: NULL #> altExpNames(0): #> rowLinks: NULL #> rowTree: NULL #> colLinks: NULL #> colTree: NULL"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/articles/parquet.html","id":"large-file-considerations","dir":"Articles","previous_headings":"Piecewise Workflow","what":"Large File Considerations","title":"Working With Data in Parquet Format","text":"Handling larger data types, like “genefamilies_stratified” similar files, works exact way must take factors consideration. two main limiters: Hugging Face rate limits Result size avoid running Hugging Face’s rate limiting (HTTP 429 error), want make sure filtering arguments selective executed sorted columns. Using “genefamilies_stratified” example, can filter “uuid” “gene_family_uniref”, since two parquet files available. Filtering “gene_family_species” still accessing parquet lazy manner can throw error since lot values column show much often dataset. filter non-sorted columns, recommended use alternate filters leverage sorted columns (e.g., uuid) create initial subset TreeSummarizedExperiment, apply less selective filters now locally available data. Alternatively, can download large files. completely eliminate rate limits since longer accessing remotely. options need balanced resources storing handling raw retrieved data, however. may helpful place DuckDB database file location capable large file storage, run R within high-resource environment. , example large file queries executed. may take seconds fully load data.","code":"# Establish connection to genefamilies_stratified files con_gs <- accessParquetData(data_types = \"genefamilies_stratified\")  # Example query: we are looking for the below gene families within a particular # study. # # UniRef90_T4BVE4 - present only in SPF mice # UniRef90_A0A1B1SA57 - present only in WildR mice  # Pull study metadata selected_samples <- sampleMetadata |>     filter(study_name == \"MazmanianS_DumitrescuDG\") |>     select(where(~ !any(is.na(.x))))  # Do as much as possible to narrow down sample IDs prior to filtering wildr_ids <- selected_samples |>     filter(uncurated_donor_microbiome_type == \"WildR\") |>     dplyr::pull(uuid)  spf_ids <- selected_samples |>     filter(uncurated_donor_microbiome_type == \"SPF\") |>     dplyr::pull(uuid)  # Run the queries spf_ex <- loadParquetData(con_gs, \"genefamilies_stratified\",                           filter_values = list(gene_family_uniref = \"UniRef90_T4BVE4\",                                                uuid = spf_ids)) spf_ex #> class: TreeSummarizedExperiment  #> dim: 4 14  #> metadata(0): #> assays(1): rpk_abundance #> rownames(4): UniRef90_T4BVE4|g__Bacteroides.s__Bacteroides_vulgatus #>   UniRef90_T4BVE4|unclassified #>   UniRef90_T4BVE4|g__Bacteroides.s__Bacteroides_thetaiotaomicron #>   UniRef90_T4BVE4|g__Parabacteroides.s__Parabacteroides_distasonis #> rowData names(4): gene_family gene_family_uniref gene_family_genus #>   gene_family_species #> colnames(14): 1d949e2f-8bdb-48b7-bcf5-171c37d9ad66 #>   d2b9638a-8c15-4d1d-b5cd-3efeeeed0f2f ... #>   01cae6dd-3b93-4abd-9f17-5fbc6a82863e #>   ba26be3f-c2d9-4103-96e6-eacc0ff75afd #> colData names(520): uuid humann_header ... #>   uncurated_Day_of_stool_collection_digestion_issue #>   uncurated_Day_of_stool_collection_constipation #> reducedDimNames(0): #> mainExpName: NULL #> altExpNames(0): #> rowLinks: NULL #> rowTree: NULL #> colLinks: NULL #> colTree: NULL  wildr_ex <- loadParquetData(con_gs, \"genefamilies_stratified\",                             filter_values = list(gene_family_uniref = \"UniRef90_A0A1B1SA57\",                                                  uuid = wildr_ids)) wildr_ex #> class: TreeSummarizedExperiment  #> dim: 2 14  #> metadata(0): #> assays(1): rpk_abundance #> rownames(2): #>   UniRef90_A0A1B1SA57|g__Muribaculum.s__Muribaculum_intestinale #>   UniRef90_A0A1B1SA57|unclassified #> rowData names(4): gene_family gene_family_uniref gene_family_genus #>   gene_family_species #> colnames(14): 265da01f-bce1-4735-8184-43f42ba5f34b #>   1e626f8b-ce4e-4a6a-ae29-82e7ec86b8b8 ... #>   bfede8e1-e9fd-434f-9f74-7b1cd424edd7 #>   985f49c5-a0d2-428d-98f4-b458b0c2c0da #> colData names(520): uuid humann_header ... #>   uncurated_Day_of_stool_collection_digestion_issue #>   uncurated_Day_of_stool_collection_constipation #> reducedDimNames(0): #> mainExpName: NULL #> altExpNames(0): #> rowLinks: NULL #> rowTree: NULL #> colLinks: NULL #> colTree: NULL  # The full sample ID list also works, but is a bit slower all_ex <- loadParquetData(con_gs, \"genefamilies_stratified\",                           filter_values = list(gene_family_uniref = c(\"UniRef90_T4BVE4\", \"UniRef90_A0A1B1SA57\"),                                                uuid = selected_samples$uuid)) all_ex #> class: TreeSummarizedExperiment  #> dim: 6 28  #> metadata(0): #> assays(1): rpk_abundance #> rownames(6): UniRef90_T4BVE4|g__Bacteroides.s__Bacteroides_vulgatus #>   UniRef90_T4BVE4|unclassified ... #>   UniRef90_A0A1B1SA57|g__Muribaculum.s__Muribaculum_intestinale #>   UniRef90_A0A1B1SA57|unclassified #> rowData names(4): gene_family gene_family_uniref gene_family_genus #>   gene_family_species #> colnames(28): 1d949e2f-8bdb-48b7-bcf5-171c37d9ad66 #>   d2b9638a-8c15-4d1d-b5cd-3efeeeed0f2f ... #>   bfede8e1-e9fd-434f-9f74-7b1cd424edd7 #>   985f49c5-a0d2-428d-98f4-b458b0c2c0da #> colData names(520): uuid humann_header ... #>   uncurated_Day_of_stool_collection_digestion_issue #>   uncurated_Day_of_stool_collection_constipation #> reducedDimNames(0): #> mainExpName: NULL #> altExpNames(0): #> rowLinks: NULL #> rowTree: NULL #> colLinks: NULL #> colTree: NULL"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Kaelyn Long. Author, maintainer.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Long K (2025). parkinsonsMetagenomicData: Suite Functions Retrieve Parkinson's Metagenomics Data Google Cloud Bucket Hugging Face. R package version 0.5.0, https://asap-mac.github.io/parkinsonsMetagenomicData/.","code":"@Manual{,   title = {parkinsonsMetagenomicData: Suite of Functions to Retrieve Parkinson's Metagenomics Data from the Google Cloud Bucket and Hugging Face},   author = {Kaelyn Long},   year = {2025},   note = {R package version 0.5.0},   url = {https://asap-mac.github.io/parkinsonsMetagenomicData/}, }"},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/index.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"Suite of Functions to Retrieve Parkinson's Metagenomics Data from the Google Cloud Bucket and Hugging Face","text":"package dedicated retrieving, storing, handling specific output files produced curatedMetagenomicsNextflow pipeline. additional utility functions surrounding analysis data files, including handling taxonomy statistical tests, go biobakeryUtils","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/index.html","id":"available-data","dir":"","previous_headings":"","what":"Available Data","title":"Suite of Functions to Retrieve Parkinson's Metagenomics Data from the Google Cloud Bucket and Hugging Face","text":"ASAP-MAC initiative collected number Parkinson’s Disease-focused studies metadata curation, uniform processing, meta-analysis. ongoing process collection datasets can followed parkinsons_data_search repository. majority studies listed table parkinson_shotgun_datasets.tsv available retrieval package. browse available data, load sampleMetadata object included package. Additionally, calling biobakery_files() provide list different output file types available sample.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/index.html","id":"sample-metadata","dir":"","previous_headings":"Available Data","what":"Sample Metadata","title":"Suite of Functions to Retrieve Parkinson's Metagenomics Data from the Google Cloud Bucket and Hugging Face","text":"Metadata samples present within parkinsonsMetagenomicData available included data.frame sampleMetadata. curated uncurated features included data.frame, uncurated features prefixed “uncurated_”. Curated features include following time: curation_id study_name sample_id subject_id target_condition target_condition_ontology_term_id control control_ontology_term_id age age_group age_group_ontology_term_id age_unit age_unit_ontology_term_id sex sex_ontology_term_id disease disease_ontology_term_id curator BioProject BioSample NCBI_accession uuid","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/index.html","id":"output-file-types","dir":"","previous_headings":"Available Data","what":"Output File Types","title":"Suite of Functions to Retrieve Parkinson's Metagenomics Data from the Google Cloud Bucket and Hugging Face","text":"viral_clusters relative_abundance marker_abundance marker_presence strainphlan_markers genefamilies genefamilies_cpm genefamilies_relab genefamilies_stratified genefamilies_unstratified genefamilies_cpm_stratified genefamilies_relab_stratified genefamilies_cpm_unstratified genefamilies_relab_unstratified pathabundance pathabundance_cpm pathabundance_relab pathabundance_stratified pathabundance_unstratified pathabundance_cpm_stratified pathabundance_relab_stratified pathabundance_cpm_unstratified pathabundance_relab_unstratified pathcoverage_unstratified pathcoverage_stratified pathcoverage fastqc kneaddata_log","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/index.html","id":"data-hosting","dir":"","previous_headings":"","what":"Data Hosting","title":"Suite of Functions to Retrieve Parkinson's Metagenomics Data from the Google Cloud Bucket and Hugging Face","text":"sample metadata available within package, various output files hosted remotely due size number. therefore two options data retrieval.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/index.html","id":"google-cloud-storage","dir":"","previous_headings":"Data Hosting","what":"Google Cloud Storage","title":"Suite of Functions to Retrieve Parkinson's Metagenomics Data from the Google Cloud Bucket and Hugging Face","text":"initial output location pipeline Google Cloud Bucket gs://metagenomics-mac, requires credentials access. creation credentials covered Google Cloud Storage vignette, need owner Google Cloud Project within Bucket contained follow steps provide resulting credentials. access Bucket, data stored individual files sample output type, can accessed functions workflows detailed Google Cloud Storage vignette.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/index.html","id":"hugging-face","dir":"","previous_headings":"Data Hosting","what":"Hugging Face","title":"Suite of Functions to Retrieve Parkinson's Metagenomics Data from the Google Cloud Bucket and Hugging Face","text":"Google Cloud Storage good place access data soon processed, requires credentialed access file wrangling. simpler alternative, data combined parquet files hosted publicly Hugging Face metagenomics_mac repo. Smaller example files featuring data 10 samples can found metagenomics_mac_examples. files able easily accessed DuckDB R client functions workflows detailed Parquet File vignette streamline process even .","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/accessParquetData.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up DuckDB connection with views for available data types — accessParquetData","title":"Set up DuckDB connection with views for available data types — accessParquetData","text":"'accessParquetData' wrapper function 'db_connect' 'retrieve_views'. DuckDB connection established views created either provided local files data types available repo interest (see inst/extdata/parquet_repos.csv). using remote repo, vector specific data types can supplied data types can take longer.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/accessParquetData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up DuckDB connection with views for available data types — accessParquetData","text":"","code":"accessParquetData(   dbdir = \":memory:\",   repo = NULL,   local_files = NULL,   data_types = NULL )"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/accessParquetData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up DuckDB connection with views for available data types — accessParquetData","text":"dbdir Location database files. path existing directory file system value ':memory:' keep data RAM. Default: ':memory:' repo String (optional): Hugging Face repo parquet files stored. NULL local_files also NULL, repo listed default get_repo_info() selected. Default: NULL local_files String vector strings (optional): path(s) parquet file(s). Default: NULL data_types Character vector (optional): using remote repo, list data types establish database views . NULL, views created available data types. Default: NULL","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/accessParquetData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up DuckDB connection with views for available data types — accessParquetData","text":"DuckDB connection object class 'duckdb_connection'","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/accessParquetData.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set up DuckDB connection with views for available data types — accessParquetData","text":"Files stored remotely locally combined connection.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/accessParquetData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up DuckDB connection with views for available data types — accessParquetData","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  prepared_db <- accessParquetData()  DBI::dbListTables(prepared_db)   single_type <- accessParquetData(data_types = \"pathcoverage_unstratified\")  DBI::dbListTables(single_type)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/add_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Add sample metadata to TreeSummarizedExperiment object as colData — add_metadata","title":"Add sample metadata to TreeSummarizedExperiment object as colData — add_metadata","text":"'add_metadata' uses IDs samples included TreeSummarizedExperiment object attach sample metadata colData. new metadata can combine pre-existing colData.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/add_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add sample metadata to TreeSummarizedExperiment object as colData — add_metadata","text":"","code":"add_metadata(sample_ids, id_col = \"uuid\", experiment, method = \"append\")"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/add_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add sample metadata to TreeSummarizedExperiment object as colData — add_metadata","text":"sample_ids Vector strings: sample IDs, UUIDs, used attach samples sampleMetadata id_col String: column name within sampleMetadata 'sample_ids' found, Default: 'uuid' experiment TreeSummarizedExperiment object: contains samples add metadata method String: 'append', 'overwrite', 'ignore', indicating handle duplicate colData columns, Default: 'append'","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/add_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add sample metadata to TreeSummarizedExperiment object as colData — add_metadata","text":"TreeSummarizedExperiment object sampleMetadata stored colData","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/add_metadata.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add sample metadata to TreeSummarizedExperiment object as colData — add_metadata","text":"sampleMetadata columns found name pre-existing colData columns can either appended (preserving duplicate columns), used overwrite pre-existing columns (leaving new version duplicate columns), ignored (leaving old version duplicate columns)","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/add_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add sample metadata to TreeSummarizedExperiment object as colData — add_metadata","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  fpath <- file.path(system.file(\"extdata\",                                 package = \"parkinsonsMetagenomicData\"),                     \"sample_experiment.Rds\")  sample_experiment <- readRDS(fpath)   add_metadata(sample_ids = colnames(sample_experiment),               id_col = \"uuid\",               experiment = sample_experiment)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/biobakery_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Read in extdata/biobakery_file_definitions.csv — biobakery_files","title":"Read in extdata/biobakery_file_definitions.csv — biobakery_files","text":"'biobakery_files' reads table extdata/biobakery_file_definitions.csv.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/biobakery_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read in extdata/biobakery_file_definitions.csv — biobakery_files","text":"","code":"biobakery_files()"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/biobakery_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read in extdata/biobakery_file_definitions.csv — biobakery_files","text":"Tibble columns 'DataType', 'Tool', 'Description', Units/Normalization'","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/biobakery_files.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read in extdata/biobakery_file_definitions.csv — biobakery_files","text":"DETAILS","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/biobakery_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read in extdata/biobakery_file_definitions.csv — biobakery_files","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  biobakery_files()  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/cacheMetagenomicData.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve and cache output files — cacheMetagenomicData","title":"Retrieve and cache output files — cacheMetagenomicData","text":"'cacheMetagenomicData' takes UUID data type arguments, downloads corresponding output files, stores local parkinsonsMetagenomicData cache. files requested function, re-downloaded unless explicitly specified, order reduce excessive downloads.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/cacheMetagenomicData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve and cache output files — cacheMetagenomicData","text":"","code":"cacheMetagenomicData(   uuids,   data_type = \"relative_abundance\",   redownload = \"no\",   custom_cache = NULL )"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/cacheMetagenomicData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve and cache output files — cacheMetagenomicData","text":"uuids Vector strings: sample UUID(s) get output data_type Single string: value found data_type' column output_file_types(), indicating output files get, Default: 'relative_abundance' redownload String: \"yes\", \"\", \"ask\"; function re-download file already present cache, Default: '' custom_cache BiocFileCache object: custom cache object may specified instead default created pMD_get_cache(), Default: NULL","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/cacheMetagenomicData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve and cache output files — cacheMetagenomicData","text":"tibble information cached files, including UUID, data type, Google Cloud Bucket object name, local cache ID, cached file path","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/cacheMetagenomicData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve and cache output files — cacheMetagenomicData","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  cacheMetagenomicData(uuid = \"004c5d07-ec87-40fe-9a72-6b23d6ec584e\",                       data_type = \"relative_abundance\",                       redownload = \"ask\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/cache_gcb.html","id":null,"dir":"Reference","previous_headings":"","what":"Cache Google Bucket object — cache_gcb","title":"Cache Google Bucket object — cache_gcb","text":"'cache_gcb' checks parkinsonsMetagenomicData cache presence Google Bucket object, downloads updates file needed, returns path cached file.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/cache_gcb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cache Google Bucket object — cache_gcb","text":"","code":"cache_gcb(locator, redownload = \"no\", custom_cache = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/cache_gcb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cache Google Bucket object — cache_gcb","text":"locator String: name Google Bucket object redownload String: \"yes\", \"\", \"ask\"; function re-download file already present cache, Default: '' custom_cache BiocFileCache object: custom cache object may specified instead default created pMD_get_cache(), Default: NULL","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/cache_gcb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cache Google Bucket object — cache_gcb","text":"Named vector strings: Names rids cached files, values paths cached files","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/cache_gcb.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cache Google Bucket object — cache_gcb","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  cache_gcb(locator = \"results/cMDv4/004c5d07-ec87-40fe-9a72-6b23d6ec584e/metaphlan_lists/metaphlan_bugs_list.tsv.gz\",            redownload = \"ask\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_data_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate 'data_type' argument — confirm_data_type","title":"Validate 'data_type' argument — confirm_data_type","text":"'confirm_data_type' checks single string valid used 'data_type' argument various functions parkinsonsMetagenomicData. Specifically, input single value found 'data_type' column output data frame output_file_types(). allowed values can optionally restricted providing column name string/regular expression filter output_file_types() data frame .","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_data_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate 'data_type' argument — confirm_data_type","text":"","code":"confirm_data_type(data_type, filter_col = NULL, filter_string = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_data_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate 'data_type' argument — confirm_data_type","text":"data_type String: input validated filter_col String (optional): name column filter filter_string String (optional): string filter within 'filter_col'","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_data_type.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate 'data_type' argument — confirm_data_type","text":"function intended used within another function input validation. input valid, nothing happen. , function throw 'stop()' error.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_data_type.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate 'data_type' argument — confirm_data_type","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  confirm_data_type(\"relative_abundance\")  confirm_data_type(\"relative_abundance\", \"tool\", \"humann\")  confirm_data_type(c(\"relative_abundance\", \"viral_clusters\"))  confirm_data_type(\"horse\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_duckdb_con.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate DuckDB connection argument — confirm_duckdb_con","title":"Validate DuckDB connection argument — confirm_duckdb_con","text":"'confirm_duckdb_con' checks object valid DuckDB connection object.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_duckdb_con.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate DuckDB connection argument — confirm_duckdb_con","text":"","code":"confirm_duckdb_con(con)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_duckdb_con.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate DuckDB connection argument — confirm_duckdb_con","text":"con Object validate","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_duckdb_con.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate DuckDB connection argument — confirm_duckdb_con","text":"function intended used within another function input validation. input valid, nothing happen. , function throw 'stop()' error.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_duckdb_con.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate DuckDB connection argument — confirm_duckdb_con","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- db_connect()  confirm_duckdb_con(con)  confirm_duckdb_con(\"horse\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_duckdb_view.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate DuckDB view/table argument — confirm_duckdb_view","title":"Validate DuckDB view/table argument — confirm_duckdb_view","text":"'confirm_duckdb_view' checks object valid DuckDB table connection object","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_duckdb_view.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate DuckDB view/table argument — confirm_duckdb_view","text":"","code":"confirm_duckdb_view(view)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_duckdb_view.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate DuckDB view/table argument — confirm_duckdb_view","text":"view Object validate","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_duckdb_view.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate DuckDB view/table argument — confirm_duckdb_view","text":"function intended used within another function input validation. input valid, nothing happen. , function throw 'stop()' error.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_duckdb_view.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate DuckDB view/table argument — confirm_duckdb_view","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- accessParquetData(data_types = \"pathcoverage_unstratified\")  view <- tbl(con, \"pathcoverage_unstratified_uuid\")  confirm_duckdb_view(view)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_filter_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate 'filter_values' argument — confirm_filter_values","title":"Validate 'filter_values' argument — confirm_filter_values","text":"'confirm_filter_values' checks named list valid used 'filter_values' argument various functions parkinsonsMetagenomicData. Specifically, input named list, element name equals name column filtered element value equals vector exact column values. Base usage 'confirm_filter_values' just confirms object named list, elements named 'uuid', validates values element valid uuids. vector available features provided, names elements list compared vector.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_filter_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate 'filter_values' argument — confirm_filter_values","text":"","code":"confirm_filter_values(filter_values, available_features = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_filter_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate 'filter_values' argument — confirm_filter_values","text":"filter_values Named list: input validated available_features Character vector: features list element names found . Default: NULL","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_filter_values.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate 'filter_values' argument — confirm_filter_values","text":"function intended used within another function input validation. input valid, nothing happen. , function throw 'stop()' error.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_filter_values.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate 'filter_values' argument — confirm_filter_values","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  l1 <- list(uuid = \"56aa2ad5-007d-407c-a644-48aac1e9a8f0\", animals = c(\"frog\", \"horse\"))  l2 <- list(uuid = \"blue\")  confirm_filter_values(l1)  confirm_filter_values(l1, c(\"uuid\", \"animals\", \"shapes\"))  confirm_filter_values(l1, c(\"animals\", \"shapes\"))  confirm_filter_values(l2)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_repo.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate 'repo' argument — confirm_repo","title":"Validate 'repo' argument — confirm_repo","text":"'confirm_repo' checks single string valid repo name listed get_repo_info() NULL value. 'confirm_ref' checks single string valid reference file name listed get_ref_info() NULL value.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_repo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate 'repo' argument — confirm_repo","text":"","code":"confirm_repo(repo)  confirm_ref(ref)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_repo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate 'repo' argument — confirm_repo","text":"repo String: input validated","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_repo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate 'repo' argument — confirm_repo","text":"function intended used within another function input validation. input valid, nothing happen. , function throw 'stop()' error. function intended used within another function input validation. input valid, nothing happen. , function throw 'stop()' error.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_repo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate 'repo' argument — confirm_repo","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  confirm_repo(NULL)  confirm_repo(\"horse\")  confirm_repo(\"waldronlab/metagenomics_mac\")  } } # } if (FALSE) { # \\dontrun{ if(interactive()){  confirm_ref(\"horse\")  confirm_ref(\"clade_name_ref\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_uuids.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate UUIDs — confirm_uuids","title":"Validate UUIDs — confirm_uuids","text":"'confirm_uuids' checks single string vector strings valid UUIDs.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_uuids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate UUIDs — confirm_uuids","text":"","code":"confirm_uuids(uuids)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_uuids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate UUIDs — confirm_uuids","text":"uuids String character vector: strings validate","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_uuids.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate UUIDs — confirm_uuids","text":"function intended used within another function input validation. input valid, nothing happen. , function throw 'stop()' error.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/confirm_uuids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate UUIDs — confirm_uuids","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  confirm_uuids(\"56aa2ad5-007d-407c-a644-48aac1e9a8f0\")  confirm_uuids(\"horse\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/db_connect.html","id":null,"dir":"Reference","previous_headings":"","what":"Connect to DuckDB database instance — db_connect","title":"Connect to DuckDB database instance — db_connect","text":"'db_connect' establishes DuckDB connection location specified memory, confirms 'httpfs' extension installed.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/db_connect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Connect to DuckDB database instance — db_connect","text":"","code":"db_connect(dbdir = \":memory:\")"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/db_connect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Connect to DuckDB database instance — db_connect","text":"dbdir Location database files. path existing directory file system value ':memory:' keep data RAM. Default: ':memory:'","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/db_connect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Connect to DuckDB database instance — db_connect","text":"DuckDB connection object class 'duckdb_connection'","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/db_connect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Connect to DuckDB database instance — db_connect","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  connection <- db_connect(dbdir = \":memory:\")  class(connection)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/detect_data_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect which accepted data type a string is referring to — detect_data_type","title":"Detect which accepted data type a string is referring to — detect_data_type","text":"'detect_data_type' parses longest value matching value output_file_types()$data_type.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/detect_data_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect which accepted data type a string is referring to — detect_data_type","text":"","code":"detect_data_type(string)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/detect_data_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect which accepted data type a string is referring to — detect_data_type","text":"string String(s): single string vector strings parse","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/detect_data_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect which accepted data type a string is referring to — detect_data_type","text":"String(s): detected data type values","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/detect_data_type.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detect which accepted data type a string is referring to — detect_data_type","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  detect_data_type(\"genefamilies_cpm_but_sorted\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/file_to_hf.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert standard https:// URLs to httpfs-compatible hf:// URLs — file_to_hf","title":"Convert standard https:// URLs to httpfs-compatible hf:// URLs — file_to_hf","text":"'file_to_hf' converts standard https:// URLs representing files Hugging Face repo URLs compatible httpfs described DuckDB Docs","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/file_to_hf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert standard https:// URLs to httpfs-compatible hf:// URLs — file_to_hf","text":"","code":"file_to_hf(url)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/file_to_hf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert standard https:// URLs to httpfs-compatible hf:// URLs — file_to_hf","text":"url String: URL referencing single file Hugging Face repo.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/file_to_hf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert standard https:// URLs to httpfs-compatible hf:// URLs — file_to_hf","text":"String: URL referencing file format matching httpfs protocol.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/file_to_hf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert standard https:// URLs to httpfs-compatible hf:// URLs — file_to_hf","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  file_to_hf(\"https://huggingface.co/datasets/waldronlab/metagenomics_mac/resolve/main/relative_abundance.parquet\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/filter_parquet_view.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter a database view by any number of column:value argument pairs — filter_parquet_view","title":"Filter a database view by any number of column:value argument pairs — filter_parquet_view","text":"'filter_parquet_view' takes named list exact value filter arguments applies DuckDB database view table. function applies filters order provided, ensuring efficient filtering method used first provided condition.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/filter_parquet_view.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter a database view by any number of column:value argument pairs — filter_parquet_view","text":"","code":"filter_parquet_view(view, filter_values)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/filter_parquet_view.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter a database view by any number of column:value argument pairs — filter_parquet_view","text":"view DuckDB database view table: obtained calling tbl(duckdb_connection, view_name). filter_values Named list: element name equals column name filtered element value equals vector exact column values.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/filter_parquet_view.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter a database view by any number of column:value argument pairs — filter_parquet_view","text":"filtered DuckDB database view table. still lazy collect() called.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/filter_parquet_view.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Filter a database view by any number of column:value argument pairs — filter_parquet_view","text":"Optimization large files done filtering first column least provided values. selective filtering step therefore reduce amount data filtered subsequent column:value arguments. , ideal ensure provided DuckDB view table sorted column involved first filter condition. multiple views different sorting schemas, interpret_and_filter() select appropriate view apply filter .","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/filter_parquet_view.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter a database view by any number of column:value argument pairs — filter_parquet_view","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- accessParquetData(repo = \"waldronlab/metagenomics_mac_examples\",                           data_types = \"genefamilies_stratified\")  fvalues <- list(uuid = c(\"d9cc81ea-c39e-46a6-a6f9-eb5584b87706\",                           \"38d449c8-1462-4d30-ba87-d032d95942ce\",                           \"5f8d4254-7653-46e3-814e-ed72cdfcb4d0\"),                  gene_family_uniref = c(\"UniRef90_R6K8T6\",                                        \"UniRef90_B0PDE3\"))   filter_parquet_view(view = tbl(con, \"genefamilies_stratified_uuid\"),                 filter_values = fvalues)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_bucket_locators.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Google Bucket locators for output — get_bucket_locators","title":"Retrieve Google Bucket locators for output — get_bucket_locators","text":"'get_bucket_locators' gives names objects within Google Bucket gs://metagenomics-mac. Output requested associated sample UUID type output file.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_bucket_locators.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Google Bucket locators for output — get_bucket_locators","text":"","code":"get_bucket_locators(uuids, data_type = \"relative_abundance\")"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_bucket_locators.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Google Bucket locators for output — get_bucket_locators","text":"uuids Vector strings: sample UUID(s) get output data_type Single string: value found data_type' column output_file_types(), indicating output files get, Default: 'relative_abundance'","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_bucket_locators.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Google Bucket locators for output — get_bucket_locators","text":"Vector strings: names requested Google Bucket objects","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_bucket_locators.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Google Bucket locators for output — get_bucket_locators","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  get_bucket_locators(uuids = \"004c5d07-ec87-40fe-9a72-6b23d6ec584e\",                      data_type = \"relative_abundance\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_cdata_only.html","id":null,"dir":"Reference","previous_headings":"","what":"Return unique colData columns for a data type — get_cdata_only","title":"Return unique colData columns for a data type — get_cdata_only","text":"'get_cdata_only' takes data type vector UUIDs, filters relevant parquet file available provided database connection, returns single row uuid containing data marked 'cdata' 'se_role' column 'parquet_colinfo()'.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_cdata_only.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return unique colData columns for a data type — get_cdata_only","text":"","code":"get_cdata_only(con, data_type, uuids)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_cdata_only.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return unique colData columns for a data type — get_cdata_only","text":"con DuckDB connection object class 'duckdb_connection' data_type Single string: value found data_type' column output_file_types() also part name view found DBI::dbListTables(con), indicating views consider collecting data. uuids Character vector: UUIDs return information .","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_cdata_only.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return unique colData columns for a data type — get_cdata_only","text":"data frame 'uuid' column well columns marked 'cdata' 'se_role' column 'parquet_colinfo()'.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_cdata_only.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return unique colData columns for a data type — get_cdata_only","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- accessParquetData(data_types = \"relative_abundance\")  uuids <- c(\"c3eb1e35-9a43-413d-8078-6a0a7ac064ba\",             \"a82385f0-d1be-4d79-854c-a7fbfe4473e1\",             \"a1444b37-d568-4575-a5c4-14c5eb2a5b89\",             \"2a497dd7-b974-4f04-9e1f-16430c678f06\",             \"496a2d0c-75ae-430f-b969-b15dedc16b3c\",             \"4a786fd8-782f-4d43-937a-36b98e9c0ab6\",             \"c789b8bc-ebe6-4b85-83e1-5cf1bbfa6111\",             \"d311d028-a54b-4557-970c-eb5b77ec0050\",             \"373a5ac4-161a-46c6-b7d8-4f28b854b386\",             \"5a93179f-7ca7-41d8-96d7-dbed215894aa\",             \"7a2e961b-2f13-4760-9392-c896c54e7ec3\",             \"c6ecc460-33db-4032-9092-9148a134f5dc\",             \"e4a83901-e130-4b64-9e7a-fea55bc5f3f2\",             \"6a034c9f-f7c9-4ead-812b-123ee99b1e0b\",             \"ee26b6f0-89fd-45d0-8af9-bc1d9647a700\")  get_cdata_only(con, data_type = \"relative_abundance\", uuids)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_exts.html","id":null,"dir":"Reference","previous_headings":"","what":"Return all ","title":"Return all ","text":"'get_exts' returns extension file name path, including pseudo-extensions \".tsv\" \"file.tsv.gz\".","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_exts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return all ","text":"","code":"get_exts(file_path)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_exts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return all ","text":"file_path String: file name path get extension(s) ","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_exts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return all ","text":"String: file extension, including pseudo-extensions","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_exts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return all ","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  get_exts(\"path/file.tsv.gz\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_hf_parquet_urls.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Parquet File URLs and Metadata from a Hugging Face Repository — get_hf_parquet_urls","title":"Get Parquet File URLs and Metadata from a Hugging Face Repository — get_hf_parquet_urls","text":"function queries Hugging Face Hub API find Parquet files within specified dataset repository. constructs direct download URLs joins information local file containing definitions BioBakery data types.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_hf_parquet_urls.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Parquet File URLs and Metadata from a Hugging Face Repository — get_hf_parquet_urls","text":"","code":"get_hf_parquet_urls(repo_name = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_hf_parquet_urls.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Parquet File URLs and Metadata from a Hugging Face Repository — get_hf_parquet_urls","text":"repo_name character string specifying Hugging Face dataset repository name format \"user/repo\" \"org/repo\". NULL, repo listed default get_repo_info() selected. Default: NULL","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_hf_parquet_urls.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Parquet File URLs and Metadata from a Hugging Face Repository — get_hf_parquet_urls","text":"data.frame following columns: filename name Parquet file. URL full download URL file. DataType base name file, used joining metadata. Tool bioBakery tool typically produces data type. Description brief description data type. Units.Normalization units normalization method used.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_hf_parquet_urls.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Parquet File URLs and Metadata from a Hugging Face Repository — get_hf_parquet_urls","text":"metadata sourced \"biobakery-file-definitions.csv\" file, expected inst/extdata directory parkinsonsMetagenomicData package. package available, metadata columns populated NA.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_hf_parquet_urls.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Parquet File URLs and Metadata from a Hugging Face Repository — get_hf_parquet_urls","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  file_info <- get_hf_parquet_urls()  head(file_info)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_ref_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Return a table with information about available parquet reference files. — get_ref_info","title":"Return a table with information about available parquet reference files. — get_ref_info","text":"'get_ref_info' returns table information associated parquet reference file. table can optionally filtered providing column name filter string/regular expression filter selected column .","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_ref_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return a table with information about available parquet reference files. — get_ref_info","text":"","code":"get_ref_info(filter_col = NULL, filter_string = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_ref_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return a table with information about available parquet reference files. — get_ref_info","text":"filter_col Character string (optional): name column filter filter_string Character string (optional): string/regular expression filter selected column .","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_ref_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return a table with information about available parquet reference files. — get_ref_info","text":"Data frame: table ref information, including information general data types tools served well descriptions.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_ref_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return a table with information about available parquet reference files. — get_ref_info","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  get_ref_info()  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_repo_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Return a table with information about available Hugging Face repos. — get_repo_info","title":"Return a table with information about available Hugging Face repos. — get_repo_info","text":"'get_repo_info' returns table information associated Hugging Face repo contains relevant parquet files.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_repo_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return a table with information about available Hugging Face repos. — get_repo_info","text":"","code":"get_repo_info()"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_repo_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return a table with information about available Hugging Face repos. — get_repo_info","text":"Data frame: table repo information, including information overall organization, name, URL, whether repo selected default.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/get_repo_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return a table with information about available Hugging Face repos. — get_repo_info","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  get_repo_info()  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/interpret_and_filter.html","id":null,"dir":"Reference","previous_headings":"","what":"Select the view with the most appropriate sorting schema and filter — interpret_and_filter","title":"Select the view with the most appropriate sorting schema and filter — interpret_and_filter","text":"'interpret_and_filter' takes named list exact value filter arguments applies DuckDB database view table. exact view table additionally selected function order optimize filtering.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/interpret_and_filter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select the view with the most appropriate sorting schema and filter — interpret_and_filter","text":"","code":"interpret_and_filter(con, data_type, filter_values)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/interpret_and_filter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select the view with the most appropriate sorting schema and filter — interpret_and_filter","text":"con DuckDB connection object class 'duckdb_connection'. data_type Character string: main data type filter. filter_values Named list: element name equals column name filtered element value equals vector exact column values.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/interpret_and_filter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Select the view with the most appropriate sorting schema and filter — interpret_and_filter","text":"filtered DuckDB database view table. still lazy collect() called.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/interpret_and_filter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Select the view with the most appropriate sorting schema and filter — interpret_and_filter","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- accessParquetData(repo = \"waldronlab/metagenomics_mac_examples\",                           data_types = \"relative_abundance\")  fvalues <- list(clade_name_species = c(\"s__GGB52130_SGB14966\",                                         \"s__Streptococcus_mutans\"),                  uuid = c(\"d9cc81ea-c39e-46a6-a6f9-eb5584b87706\",                           \"38d449c8-1462-4d30-ba87-d032d95942ce\",                           \"5f8d4254-7653-46e3-814e-ed72cdfcb4d0\"))  interpret_and_filter(con, \"relative_abundance\", fvalues)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/listMetagenomicData.html","id":null,"dir":"Reference","previous_headings":"","what":"List metagenomic data available for download — listMetagenomicData","title":"List metagenomic data available for download — listMetagenomicData","text":"'listMetagenomicData' provides table objects within 'gs://metagenomics-mac' Google Cloud Bucket available download.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/listMetagenomicData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List metagenomic data available for download — listMetagenomicData","text":"","code":"listMetagenomicData()"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/listMetagenomicData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List metagenomic data available for download — listMetagenomicData","text":"Tibble: information available files, including UUID, data type, Google Cloud Bucket object name, object size, time object last updated","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/listMetagenomicData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List metagenomic data available for download — listMetagenomicData","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  listMetagenomicData()  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadMetagenomicData.html","id":null,"dir":"Reference","previous_headings":"","what":"Load cached files into R as a merged TreeSummarizedExperiment object — loadMetagenomicData","title":"Load cached files into R as a merged TreeSummarizedExperiment object — loadMetagenomicData","text":"'loadMetagenomicData' takes table information cached files, including paths cached files well associated UUIDs data types, loads files R TreeSummarizedExperiment objects. Associated sample metadata automatically attached colData, objects merged single TreeSummarizedExperiment object.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadMetagenomicData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load cached files into R as a merged TreeSummarizedExperiment object — loadMetagenomicData","text":"","code":"loadMetagenomicData(cache_table)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadMetagenomicData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load cached files into R as a merged TreeSummarizedExperiment object — loadMetagenomicData","text":"cache_table data.frame tibble: structured like cacheMetagenomicData() output; contains columns 'uuid', 'cache_path', 'data_type', appropriate entries file loaded .","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadMetagenomicData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load cached files into R as a merged TreeSummarizedExperiment object — loadMetagenomicData","text":"TreeSummarizedExperiment object relevant sample metadata attached colData.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadMetagenomicData.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Load cached files into R as a merged TreeSummarizedExperiment object — loadMetagenomicData","text":"moment, metaphlan_lists data types, viral_clusters relative_abundance, well humann data types, parsing functions automatically loading TreeSummarizedExperiment objects.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadMetagenomicData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load cached files into R as a merged TreeSummarizedExperiment object — loadMetagenomicData","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  cache_table <- cacheMetagenomicData(uuid = \"004c5d07-ec87-40fe-9a72-6b23d6ec584e\",                                      data_type = \"relative_abundance\")  loadMetagenomicData(cache_table = cache_table)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadParquetData.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve data from a DuckDB view and convert to Summarized Experiment — loadParquetData","title":"Retrieve data from a DuckDB view and convert to Summarized Experiment — loadParquetData","text":"'loadParquetData' accesses DuckDB view created 'accessParquetData' loads R Summarized Experiment object. Arguments can provided filter transform DuckDB view. filter, provide named list (format: name = column name, value = single exact value vector exact values) filter_values. transform view, provide saved sequence function calls starting dplyr::tbl custom_view.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadParquetData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve data from a DuckDB view and convert to Summarized Experiment — loadParquetData","text":"","code":"loadParquetData(   con,   data_type,   filter_values = NULL,   custom_view = NULL,   include_empty_samples = FALSE,   dry_run = FALSE )"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadParquetData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve data from a DuckDB view and convert to Summarized Experiment — loadParquetData","text":"con DuckDB connection object class 'duckdb_connection' data_type Single string: value found data_type' column output_file_types() also part name view found DBI::dbListTables(con), indicating views consider collecting data. filter_values Named list: element name equals column name filtered element value equals vector exact column values. Default: NULL custom_view Saved object initial class 'tbl_duckdb_connection' (optional): DuckDB tables/views can accessed 'dplyr::tbl' function, piped additional functions 'dplyr::filter' prior loading memory 'dplyr::collect'. particular sequence function calls can saved provided function collection formatting Summarized Experiment. See function example. Default: NULL include_empty_samples Boolean (optional): samples provided via 'uuid' argument within 'filter_values' included final TreeSummarizedExperiment show results filtering source parquet data file. Default: FALSE dry_run Boolean (optional): TRUE, function return tbl_duckdb_connection object prior calling 'dplyr::collect'. Default: FALSE","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadParquetData.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve data from a DuckDB view and convert to Summarized Experiment — loadParquetData","text":"TreeSummarizedExperiment object process metadata, row data, column names, relevant assays. dry_run = TRUE, tbl_duckdb_connection object.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadParquetData.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Retrieve data from a DuckDB view and convert to Summarized Experiment — loadParquetData","text":"'custom_view' provided, must use one views indicated data_type'.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/loadParquetData.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve data from a DuckDB view and convert to Summarized Experiment — loadParquetData","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- accessParquetData(repo = \"waldronlab/metagenomics_mac_examples\",                           data_types = \"pathcoverage_unstratified\")   custom_filter <- tbl(con, \"pathcoverage_unstratified_pathway\") |>                   filter(grepl(\"UMP biosynthesis\", pathway))   custom_tse <- loadParquetData(con,                                data_type = \"pathcoverage_unstratified\",                                filter_values = list(uuid = c(\"8793b1dc-3ba1-4591-82b8-4297adcfa1d7\",                                                              \"cc1f30a0-45d9-41b1-b592-7d0892919ee7\",                                                              \"fb7e8210-002a-4554-b265-873c4003e25f\",                                                              \"d9cc81ea-c39e-46a6-a6f9-eb5584b87706\",                                                              \"4985aa08-6138-4146-8ae3-952716575395\",                                                              \"8eb9f7ae-88c2-44e5-967e-fe7f6090c7af\")),                                custom_view = custom_filter)  custom_tse  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/load_ref.html","id":null,"dir":"Reference","previous_headings":"","what":"Load a single parquet reference file — load_ref","title":"Load a single parquet reference file — load_ref","text":"'load_ref' retrieves single parquet file name designated repo loads table R.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/load_ref.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load a single parquet reference file — load_ref","text":"","code":"load_ref(ref, repo = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/load_ref.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load a single parquet reference file — load_ref","text":"ref String: name reference file found get_ref_info() repo String (optional): Hugging Face repo parquet files stored. NULL, repo listed default get_repo_info() selected. Default: NULL","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/load_ref.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load a single parquet reference file — load_ref","text":"table reference information","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/load_ref.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load a single parquet reference file — load_ref","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  load_ref(\"clade_name_ref\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/mergeExperiments.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge TreeSummarizedExperiment objects with the same assay types together — mergeExperiments","title":"Merge TreeSummarizedExperiment objects with the same assay types together — mergeExperiments","text":"'mergeExperiments' takes list TreeSummarizedExperiment objects assays different samples, combines single TreeSummarizedExperiment object.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/mergeExperiments.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge TreeSummarizedExperiment objects with the same assay types together — mergeExperiments","text":"","code":"mergeExperiments(merge_list)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/mergeExperiments.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge TreeSummarizedExperiment objects with the same assay types together — mergeExperiments","text":"merge_list List TreeSummarizedExperiment objects: merged single TreeSummarizedExperiment object","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/mergeExperiments.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge TreeSummarizedExperiment objects with the same assay types together — mergeExperiments","text":"TreeSummarizedExperiment object multiple samples","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/mergeExperiments.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Merge TreeSummarizedExperiment objects with the same assay types together — mergeExperiments","text":"assays contained TreeSummarizedExperiments merged must type (.e. name) order multiple assays.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/mergeExperiments.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Merge TreeSummarizedExperiment objects with the same assay types together — mergeExperiments","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  fpath <- file.path(system.file(\"extdata\",                                 package = \"parkinsonsMetagenomicData\"),                     \"sample_experiment_list.Rds\")  sample_experiment_list <- readRDS(fpath)   mergeExperiments(sample_experiment_list)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/output_file_types.html","id":null,"dir":"Reference","previous_headings":"","what":"Read in extdata/output_files.csv — output_file_types","title":"Read in extdata/output_files.csv — output_file_types","text":"'output_file_types' reads table extdata/output_files.csv. table can optionally filtered providing column name filter string/regular expression filter selected column .","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/output_file_types.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read in extdata/output_files.csv — output_file_types","text":"","code":"output_file_types(filter_col = NULL, filter_string = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/output_file_types.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read in extdata/output_files.csv — output_file_types","text":"filter_col Character string (optional): name column filter filter_string Character string (optional): string/regular expression filter selected column .","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/output_file_types.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read in extdata/output_files.csv — output_file_types","text":"Tibble columns 'tool', 'data_type', 'file_name', 'subdir'","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/output_file_types.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read in extdata/output_files.csv — output_file_types","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  output_file_types()  output_file_types(\"tool\", \"metaphlan\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/pMD_get_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Get location of dedicated file cache — pMD_get_cache","title":"Get location of dedicated file cache — pMD_get_cache","text":"'pMD_get_cache' returns location dedicated parkinsonsMetagenomicData file cache creates exist.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/pMD_get_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get location of dedicated file cache — pMD_get_cache","text":"","code":"pMD_get_cache()"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/pMD_get_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get location of dedicated file cache — pMD_get_cache","text":"BiocFileCache cache object","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/pMD_get_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get location of dedicated file cache — pMD_get_cache","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  pMD_get_cache()  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parquet_colinfo.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve column info for parquet files based on original file type — parquet_colinfo","title":"Retrieve column info for parquet files based on original file type — parquet_colinfo","text":"'parquet_colinfo' returns column info associated parquet file made particular output file type.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parquet_colinfo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve column info for parquet files based on original file type — parquet_colinfo","text":"","code":"parquet_colinfo(data_type)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parquet_colinfo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve column info for parquet files based on original file type — parquet_colinfo","text":"data_type Single string: value found data_type' column output_file_types() also part name file repo https://huggingface.co/datasets/waldronlab/metagenomics_mac https://huggingface.co/datasets/waldronlab/metagenomics_mac_examples.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parquet_colinfo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve column info for parquet files based on original file type — parquet_colinfo","text":"Data frame columns 'general_data_type', 'col_name', 'col_class', 'description', 'se_role', 'position'","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parquet_colinfo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve column info for parquet files based on original file type — parquet_colinfo","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  parquet_colinfo(\"viral_clusters\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parquet_to_tse.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert tabulated parquet file data to a Summarized Experiment — parquet_to_tse","title":"Convert tabulated parquet file data to a Summarized Experiment — parquet_to_tse","text":"'parquet_to_tse' takes tabulated data parquet file Summarized Experiment object. Associated sample metadata automatically attached colData.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parquet_to_tse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert tabulated parquet file data to a Summarized Experiment — parquet_to_tse","text":"","code":"parquet_to_tse(parquet_table, data_type, empty_data = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parquet_to_tse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert tabulated parquet file data to a Summarized Experiment — parquet_to_tse","text":"parquet_table Table data frame: data taken directly parquet file found repo interest (see inst/extdata/parquet_repos.csv). data_type Single string: value found data_type' column output_file_types() also part name file repo interest.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parquet_to_tse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert tabulated parquet file data to a Summarized Experiment — parquet_to_tse","text":"TreeSummarizedExperiment object process metadata, row data, column names, relevant assays.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parquet_to_tse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert tabulated parquet file data to a Summarized Experiment — parquet_to_tse","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- accessParquetData(repo = \"waldronlab/metagenomics_mac_examples\",                           data_types = \"pathcoverage_unstratified\")  parquet_tbl <- tbl(con, \"pathcoverage_unstratified_uuid\") |> collect()   se <- parquet_to_tse(parquet_tbl, \"pathcoverage_unstratified\")  se  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_fastqc_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse FastQC data file for a single sample as a named vector — parse_fastqc_stats","title":"Parse FastQC data file for a single sample as a named vector — parse_fastqc_stats","text":"'parse_fastqc_stats' reads file obtained running FastQC FASTQ file. file parsed named vector.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_fastqc_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse FastQC data file for a single sample as a named vector — parse_fastqc_stats","text":"","code":"parse_fastqc_stats(file_path)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_fastqc_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse FastQC data file for a single sample as a named vector — parse_fastqc_stats","text":"file_path String: Path locally stored MetaPhlAn output file TXT format","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_fastqc_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse FastQC data file for a single sample as a named vector — parse_fastqc_stats","text":"named vector containing number sample-level statistics.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_fastqc_stats.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Parse FastQC data file for a single sample as a named vector — parse_fastqc_stats","text":"'parse_fastqc_stats' parse every single item information within fastqc_data.txt file, gathers 'Basic Statistics' module.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_fastqc_stats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse FastQC data file for a single sample as a named vector — parse_fastqc_stats","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  fpath <- file.path(system.file(\"extdata\",                                 package = \"parkinsonsMetagenomicData\"),                     \"sample_fastqc_data.txt\")  parse_fastqc_stats(fpath)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_humann.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse HUMAnN output for a single sample as a TreeSummarizedExperiment object — parse_humann","title":"Parse HUMAnN output for a single sample as a TreeSummarizedExperiment object — parse_humann","text":"'parse_humann' reads file obtained running HUMAnN single sample. file parsed TreeSummarizedExperiment object.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_humann.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse HUMAnN output for a single sample as a TreeSummarizedExperiment object — parse_humann","text":"","code":"parse_humann(sample_id, file_path, data_type)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_humann.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse HUMAnN output for a single sample as a TreeSummarizedExperiment object — parse_humann","text":"sample_id String: sample identifier file_path String: Path locally stored HUMAnN output file gzipped TSV format data_type String: type HUMAnN output file parsed, found output_file_types(\"tool\", \"humann\")","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_humann.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse HUMAnN output for a single sample as a TreeSummarizedExperiment object — parse_humann","text":"TreeSummarizedExperiment object process metadata, row names, column names, relevant assays.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_humann.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Parse HUMAnN output for a single sample as a TreeSummarizedExperiment object — parse_humann","text":"function integrate sample metadata column data. provided sample_id used column name assays within TreeSummarizedExperiment object intended used integration sample metadata.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_humann.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse HUMAnN output for a single sample as a TreeSummarizedExperiment object — parse_humann","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  #EXAMPLE1  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_kneaddata_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse KneadData log file for a single sample as a named vector — parse_kneaddata_stats","title":"Parse KneadData log file for a single sample as a named vector — parse_kneaddata_stats","text":"'parse_kneaddata_stats' reads file obtained running KneadData FASTQ file. file parsed named vector.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_kneaddata_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse KneadData log file for a single sample as a named vector — parse_kneaddata_stats","text":"","code":"parse_kneaddata_stats(file_path)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_kneaddata_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse KneadData log file for a single sample as a named vector — parse_kneaddata_stats","text":"file_path String: Path locally stored KneadData log file stored TXT format","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_kneaddata_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse KneadData log file for a single sample as a named vector — parse_kneaddata_stats","text":"named vector containing number read counts different stages","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_kneaddata_stats.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Parse KneadData log file for a single sample as a named vector — parse_kneaddata_stats","text":"'parse_kneaddata_stats' parse every single item information within out_kneaddata.log file, gathers lines read counts.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_kneaddata_stats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse KneadData log file for a single sample as a named vector — parse_kneaddata_stats","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  fpath <- file.path(system.file(\"extdata\",                                 package = \"parkinsonsMetagenomicData\"),                     \"sample_out_kneaddata.log\")  parse_kneaddata_stats(fpath)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_metaphlan_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse basic MetaPhlAn output for a single sample as a TreeSummarizedExperiment object — parse_metaphlan_list","title":"Parse basic MetaPhlAn output for a single sample as a TreeSummarizedExperiment object — parse_metaphlan_list","text":"'parse_metaphlan_list' reads file obtained running MetaPhlAn microbial profiling (without unclassified fraction estimation) viral sequence cluster analysis. file parsed TreeSummarizedExperiment object.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_metaphlan_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse basic MetaPhlAn output for a single sample as a TreeSummarizedExperiment object — parse_metaphlan_list","text":"","code":"parse_metaphlan_list(sample_id, file_path, data_type)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_metaphlan_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse basic MetaPhlAn output for a single sample as a TreeSummarizedExperiment object — parse_metaphlan_list","text":"sample_id String: sample identifier file_path String: Path locally stored MetaPhlAn output file TSV format data_type String: type MetaPhlAn output file parsed, either 'relative_abundance' 'viral_clusters'","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_metaphlan_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse basic MetaPhlAn output for a single sample as a TreeSummarizedExperiment object — parse_metaphlan_list","text":"TreeSummarizedExperiment object process metadata, row data, column names, relevant assays.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_metaphlan_list.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Parse basic MetaPhlAn output for a single sample as a TreeSummarizedExperiment object — parse_metaphlan_list","text":"function integrate sample metadata column data. provided sample_id used column name assays within TreeSummarizedExperiment object intended used integration sample metadata.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/parse_metaphlan_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse basic MetaPhlAn output for a single sample as a TreeSummarizedExperiment object — parse_metaphlan_list","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  fpath <- file.path(system.file(\"extdata\",                                 package = \"parkinsonsMetagenomicData\"),                     \"sample_metaphlan_bugs_list.tsv.gz\")  parse_metaphlan_list(sample_id = \"004c5d07-ec87-40fe-9a72-6b23d6ec584e\",                       file_path = fpath,                       data_type = \"relative_abundance\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/pick_projection.html","id":null,"dir":"Reference","previous_headings":"","what":"Choose the most appropriate DuckDB view/table for filtering — pick_projection","title":"Choose the most appropriate DuckDB view/table for filtering — pick_projection","text":"'pick_projection' takes data type name feature filter data chooses appropriate DuckDB view/table performing filtering efficient way. view tailored specific feature, view/table sorted UUID default.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/pick_projection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Choose the most appropriate DuckDB view/table for filtering — pick_projection","text":"","code":"pick_projection(con, data_type, feature_name = \"uuid\")"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/pick_projection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Choose the most appropriate DuckDB view/table for filtering — pick_projection","text":"con DuckDB connection object class 'duckdb_connection'. connection contains views/tables select . data_type Single string: value found data_type' column output_file_types() also name view found DBI::dbListTables(con), indicating view collect data . feature_name Single string: name feature file intended filtered . Default = \"uuid\"","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/pick_projection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Choose the most appropriate DuckDB view/table for filtering — pick_projection","text":"Single string: name DuckDB view/table","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/pick_projection.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Choose the most appropriate DuckDB view/table for filtering — pick_projection","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- accessParquetData(repo = \"waldronlab/metagenomics_mac_examples\",                           data_types = \"relative_abundance\")  pick_projection(con, \"relative_abundance\", \"clade_name_species\")  pick_projection(con, \"relative_abundance\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/retrieve_local_views.html","id":null,"dir":"Reference","previous_headings":"","what":"Create database views from local parquet files — retrieve_local_views","title":"Create database views from local parquet files — retrieve_local_views","text":"'retrieve_local_views' creates database views files provided. view names also provided, imputed file names.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/retrieve_local_views.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create database views from local parquet files — retrieve_local_views","text":"","code":"retrieve_local_views(con, local_files, view_names = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/retrieve_local_views.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create database views from local parquet files — retrieve_local_views","text":"con DuckDB connection object class 'duckdb_connection' local_files String vector strings: path(s) parquet file(s) view_names String vector strings (optional): names use created views instead imputing file names, Default: NULL","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/retrieve_local_views.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create database views from local parquet files — retrieve_local_views","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- db_connect(dbdir = \":memory:\")  fpath <- file.path(system.file(\"extdata\",                                 package = \"parkinsonsMetagenomicData\"),                     \"sample_table.parquet\")  retrieve_local_views(con, fpath)  DBI::dbListTables(con)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/retrieve_views.html","id":null,"dir":"Reference","previous_headings":"","what":"Create database views for all available or requested data types — retrieve_views","title":"Create database views for all available or requested data types — retrieve_views","text":"'retrieve_views' creates database views data types available repo interest (see inst/extdata/parquet_repos.csv). individual type vector types may also requested avoid unwanted views.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/retrieve_views.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create database views for all available or requested data types — retrieve_views","text":"","code":"retrieve_views(con, repo = NULL, data_types = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/retrieve_views.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create database views for all available or requested data types — retrieve_views","text":"con DuckDB connection object class 'duckdb_connection' repo String (optional): Hugging Face repo parquet files stored. NULL, repo listed default get_repo_info() selected. Default: NULL data_types Character vector (optional): list data types establish database views . NULL, views created available data types. Default: NULL","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/retrieve_views.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create database views for all available or requested data types — retrieve_views","text":"'retrieve_views' uses 'output_file_types' initial list data types retrieve, checks exist parquet files repo interest. , simply skipped user notified.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/retrieve_views.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create database views for all available or requested data types — retrieve_views","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- db_connect()   retrieve_views(con, repo = \"waldronlab/metagenomics_mac\",                 data_types = c(\"relative_abundance\",                                \"viral_clusters\",                                \"pathcoverage_unstratified\"))  DBI::dbListTables(con)  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/returnSamples.html","id":null,"dir":"Reference","previous_headings":"","what":"Return a TreeSummarizedExperiment with data based on sample data and feature data tables — returnSamples","title":"Return a TreeSummarizedExperiment with data based on sample data and feature data tables — returnSamples","text":"'returnSamples' takes tables sample feature information retrieves relevant data TreeSummarizedExperiment.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/returnSamples.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return a TreeSummarizedExperiment with data based on sample data and feature data tables — returnSamples","text":"","code":"returnSamples(   data_type,   sample_data = NULL,   feature_data = NULL,   repo = NULL,   local_files = NULL,   include_empty_samples = TRUE,   dry_run = FALSE )"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/returnSamples.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return a TreeSummarizedExperiment with data based on sample data and feature data tables — returnSamples","text":"data_type Single string: value found data_type' column output_file_types() also part name view found DBI::dbListTables(con), indicating views consider collecting data. sample_data Data frame: table sample metadata 'uuid' column. Often created accessing 'sampleMetadata' filtering otherwise transforming result include samples interest. feature_data Data frame: table feature data. column become filtering argument. Often created accessing one files listed 'get_ref_info()' 'load_ref()', filtering otherwise transforming result include feature combinations interest. repo String (optional): Hugging Face repo parquet files stored. NULL local_files also NULL, repo listed default get_repo_info() selected. Default: NULL local_files String vector strings (optional): path(s) parquet file(s). Default: NULL include_empty_samples Boolean (optional): samples provided via 'uuid' argument within 'filter_values' included final TreeSummarizedExperiment show results filtering source parquet data file. Default: TRUE dry_run Boolean (optional): TRUE, function return tbl_duckdb_connection object prior calling 'dplyr::collect'. Default: FALSE","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/returnSamples.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return a TreeSummarizedExperiment with data based on sample data and feature data tables — returnSamples","text":"TreeSummarizedExperiment object process metadata, row data, column names, relevant assays. dry_run = TRUE, tbl_duckdb_connection object.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/returnSamples.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Return a TreeSummarizedExperiment with data based on sample data and feature data tables — returnSamples","text":"Files stored remotely locally combined connection.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/returnSamples.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return a TreeSummarizedExperiment with data based on sample data and feature data tables — returnSamples","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  table(sampleMetadata$control, useNA = \"ifany\")  sample_data <- sampleMetadata %>%      filter(control %in% c(\"Case\", \"Study Control\") &             age >= 16 &             is.na(sex) != TRUE)  sample_data_small <- sample_data[1:15,]   clade_name_ref <- load_ref(\"clade_name_ref\")  feature_data_genus <- clade_name_ref %>%      filter(grepl(\"Faecalibacterium\", clade_name_genus)) %>%      select(clade_name_genus)   genus_ex <- returnSamples(data_type = \"relative_abundance\",                            sample_data = sample_data_small,                            feature_data = feature_data_genus)  genus_ex  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/sampleMetadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Manually Curated Sample Metadata — sampleMetadata","title":"Manually Curated Sample Metadata — sampleMetadata","text":"Manually curated sample metadata samples parkinsonsMetagenomicData.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/sampleMetadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Manually Curated Sample Metadata — sampleMetadata","text":"","code":"sampleMetadata"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/sampleMetadata.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Manually Curated Sample Metadata — sampleMetadata","text":"object class data.frame 2221 rows 519 columns.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/standardize_ordering.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize the order of a vector of delimited strings — standardize_ordering","title":"Standardize the order of a vector of delimited strings — standardize_ordering","text":"'standardize_ordering' takes vector strings, splits specified delimiter, orders , re-collapses delimiter. confirms calling unique(), strings contain elements different order.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/standardize_ordering.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize the order of a vector of delimited strings — standardize_ordering","text":"","code":"standardize_ordering(vec, delim)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/standardize_ordering.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize the order of a vector of delimited strings — standardize_ordering","text":"vec Vector strings: vector strings standardized delim Character: delimiter split strings .","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/standardize_ordering.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize the order of a vector of delimited strings — standardize_ordering","text":"Vector strings","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/standardize_ordering.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardize the order of a vector of delimited strings — standardize_ordering","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  vec <- c(\"horse|gecko|frog\",           \"cow|camel|fish\",           \"frog|gecko|horse\")   standardize_ordering(vec, delim = \"|\")  } } # }"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/view_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a database view of a specific parquet file — view_parquet","title":"Create a database view of a specific parquet file — view_parquet","text":"'view_parquet' creates database view provided DuckDB connection object. view created parquet file hosted repo interest (see inst/extdata/parquet_repos.csv) stored locally. specific file specified via httpfs-compatible URL local file path.","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/view_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a database view of a specific parquet file — view_parquet","text":"","code":"view_parquet(con, httpfs_url = NULL, file_path = NULL, view_name = NULL)"},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/view_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a database view of a specific parquet file — view_parquet","text":"con DuckDB connection object class 'duckdb_connection' httpfs_url String (optional): httpfs-compatible URL referencing specific parquet file hosted repo interest. Default: NULL file_path String (optional): path locally stored parquet file. Default: NULL view_name String (optional): name database view created. provided, generated name file indicated 'httpfs_url'. Default: NULL","code":""},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/view_parquet.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a database view of a specific parquet file — view_parquet","text":"See DuckDB Docs information httpfs-compatible URLs.","code":""},{"path":[]},{"path":"https://asap-mac.github.io/parkinsonsMetagenomicData/reference/view_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a database view of a specific parquet file — view_parquet","text":"","code":"if (FALSE) { # \\dontrun{ if(interactive()){  con <- db_connect()  view_parquet(con,               \"hf://datasets/waldronlab/metagenomics_mac/relative_abundance_uuid.parquet\",               \"relative_abundance_uuid\")   DBI::dbListTables(con)  } } # }"}]
