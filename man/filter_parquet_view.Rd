% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/readParquet.R
\name{filter_parquet_view}
\alias{filter_parquet_view}
\title{Filter a database view by any number of column:value argument pairs}
\usage{
filter_parquet_view(view, filter_values)
}
\arguments{
\item{view}{DuckDB database view or table: obtained by calling
tbl(con, view_name).}

\item{filter_values}{Named list: element name equals the column name to be
filtered and element value equals a vector of exact column values.}
}
\value{
A filtered DuckDB database view or table. This is still lazy until
collect() is called.
}
\description{
'filter_parquet_view' takes a named list of exact value filter
arguments and applies them to a DuckDB database view or table. This function
is optimized to work with even extremely large views by leveraging parquet
row group skipping.
}
\details{
Optimization for large files is done by filtering first by the
column with the least provided values. This is the most selective filtering
step and will therefore reduce the amount of data that is being filtered with
subsequent column:value arguments. Because of this, it is ideal to ensure
that the provided DuckDB view or table is sorted by the column with the least
provided arguments. If you have multiple views with different sorting
schemas, interpret_and_filter() will select the appropriate view and apply
the filter for you.
}
\examples{
\dontrun{
if(interactive()){
 con <- accessParquetData(data_types = "genefamilies_stratified")
 fvalues <- list(filename = c("gs://metagenomics-mac/results/cMDv4/23f1dd24-2bfa-449a-a624-ac6dedd9edca/humann/out_genefamilies_stratified.tsv.gz",
                              "gs://metagenomics-mac/results/cMDv4/42567d6b-981d-41c5-b82d-8e8dcc44baba/humann/out_genefamilies_stratified.tsv.gz",
                              "gs://metagenomics-mac/results/cMDv4/bc22379e-4c05-4700-9a40-fa6fed718ea6/humann/out_genefamilies_stratified.tsv.gz"),
                 `# Gene Family` = c("UniRef90_U3JBQ2|g__Lactobacillus.s__Lactobacillus_johnsonii",
                                     "UniRef90_R9KYZ5|g__Lachnospiraceae_unclassified.s__Lachnospiraceae_bacterium_COE1",
                                     "UniRef90_R9KYZ5|unclassified",
                                     "UniRef90_A0A1V0QE01|g__Muribaculum.s__Muribaculum_intestinale"))
 filter_parquet_view(view = tbl(con, "genefamilies_stratified"),
                filter_values = fvalues)
 }
}
}
\seealso{
\code{\link[dplyr]{filter}}, \code{\link[dplyr]{setops}}
\code{\link[rlang]{sym}}
}
